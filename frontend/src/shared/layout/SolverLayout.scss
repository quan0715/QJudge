@use "@carbon/layout";

.solver-layout {
  display: flex;
  flex-direction: row;
  height: 100%;
  width: 100%;
  overflow: hidden;

  // Fixed width menu panel (48px = spacing-09)
  &__menu {
    width: layout.$spacing-09;
    min-width: layout.$spacing-09;
    height: 100%;
    flex-shrink: 0;
    background-color: var(--cds-layer-01);
    border-right: 1px solid var(--cds-border-subtle-01);
  }

  // Statement panel (left)
  &__statement {
    height: 100%;
    flex-shrink: 0;
    overflow: hidden;
    background-color: var(--cds-layer-01);
    // Only transition when collapsing/expanding, not during drag resize
    transition: width 0.15s ease;

    &--collapsed {
      display: flex;
      flex-direction: column;
      border-right: 1px solid var(--cds-border-subtle-01);
    }
  }

  // Resize handles - thin line
  &__resize-handle {
    flex-shrink: 0;
    background-color: var(--cds-border-subtle-01);
    z-index: 10;

    &:hover {
      background-color: var(--cds-button-primary);
    }

    &--horizontal {
      width: 1px;
      height: 100%;
      cursor: col-resize;
    }

    &--vertical {
      width: 100%;
      height: 1px;
      cursor: row-resize;
    }
  }

  // Collapsed bar for statement - vertical icon list
  &__collapsed-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100%;
    gap: 0;
  }

  // Statement content when expanded
  &__statement-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
  }

  &__statement-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: layout.rem(48px);
    min-height: layout.rem(48px);
    border-bottom: 1px solid var(--cds-border-subtle-01);
    flex-shrink: 0;
    box-sizing: border-box;
  }

  &__statement-tabs {
    display: flex;
    align-items: center;
    gap: 0;
  }

  &__statement-body {
    flex: 1;
    overflow: auto;
    min-height: 0;
  }

  // Right column (editor + result)
  &__right {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0;
    overflow: hidden;
  }

  // Editor panel (top of right column)
  &__editor {
    min-height: layout.rem(100px);
    overflow: hidden;
    display: flex;
    flex-direction: column;

    > * {
      flex: 1;
      min-height: 0;
    }
  }

  // Result panel (bottom of right column)
  &__result {
    min-height: layout.$spacing-09; // 48px
    overflow: hidden;
  }

  // Note: Scrollbar styles are now globally defined in styles/_scrollbar.scss
}
